                                    Freevo                                     
                                                                               
-------------------------------------------------------------------------------

Table of Contents

-------------------------------------------------------------------------------

  * 1. Installation
  * 2. Configuration
  * 3. Usage
      + 3.1 General
      + 3.2 TV
      + 3.3 Movies
      + 3.4 Music
      + 3.5 Images
  * 4. Skinning

-------------------------------------------------------------------------------

1. Installation

See INSTALL for detailed information. If you don't want to use the
freevo-runtime, read INSTALL.deps as well

-------------------------------------------------------------------------------

2. Configuration

Freevos configuration is stored in the file freevo_config.py in the freevo
directory. You can change the variables there or better, make a new file called
local_conf.py in the same directory and put all variables you want to change in
there.

e.g.: you want to set the audio device for mplayer to alsa9, just put
MPLAYER_AO_DEV = 'alsa9' in local_conf.py.

Check the config file carefully, most people will change the following
variables:

DIR_MOVIES Directories where your movies are                                   
DIR_MP3    Directories where your audio files (mp3, ogg) are                   
DIR_IMAGES Directories where your images are                                   
RC_CMDS    Comands for your remote control. Check /etc/lircd.conf for the      
           button names of your remote                                         


Also check the mplayer section to specify the audio device and special paramter
for mplayer.

-------------------------------------------------------------------------------

3. Usage

3.1 General

3.2 Navigation

If you use a keyboard as control device, please press "h" to get the keyboard
mappings.

You can use UP and DOWN to navigate in the menu, SELECT selects the current
item. You can use LEFT and RIGHT to move to the top/bottom of the item list
currently displayed. If you press the key again, the list of current shown
items will scoll up or down if there are more items in this menu as the menu
can display. Use MENU to get to the MAIN MENU, EXIT to go one menu back.

3.3 Images

You can specify images for all menu items. For movies, music and images please
read the according section in this documentation. For folders you can put a
file called cover.jpg or cover.png inside the folder and this image will be
used in the parent menu for this folder.

The size of the image depends on the current type of the menu. For movies you
have something like DVD covers or movie poster, for audio a cd cover. So the
image will be resized to 280x200 for movies, 200x200 for audio and 200x160 for
images. This sizes will also be used for the directory images. You can change
the sizes by changing the XML file (see Skinning for more details).

-------------------------------------------------------------------------------

3.2 TV

3.2.1 General

3.2.2 XMLTV

Freevo can use the XMLTV format for TV listings. Please read the file XMLTV for
detailed information.

German users don't need XMLTV, just start
wget http://yasd.cc/xmltv/tv_`date +%Y%m%d`.xml.gz --output-document=- | gzip -d < /tmp/TV.xml
to get the listing for today and set TV_CHANNELS in local_conf.py to the
station you have.

-------------------------------------------------------------------------------

3.3 Movies

3.3.1 General

DVD/VCD/SVCD/CD support

Freevo shows all you rom drives in the MOVIE MAIN MENU (set the variable
ROM_DRIVES in the config file). You don't need to mount the disc, freevo will
automaticly mount and umount the drive. After you insert a new disc, the MAIN
MENU will update. You have complete control over your drive, the EJECT button
on the drive should work all the time, except when you play a file from the
disc and when you browse the disc with freevo.

3.3.2 Movie images

You can drop an image file with the same basename as the movie into the folder
and this image will be used for this movie. The same feature will be added for
mp3 in the future.

Example: movie.png will be used for movie.avi

There is also a generic way for images of tv shows. Recordings for tv shows
have a common name scheme. If you drop an image with the name of the show into
the tv show image directory, this image will be taken. The name of the image
_must_ be lower case. You can specify a directory for tv show images in
freevo_config.py, the default is

TV_SHOW_IMAGES = "tv-show-images/"

Example: if you have tv-show-images/show.png, this image will be used for "Show
2x10 - A cool episode.avi"

3.3.4 XML files for movies

A more complex way is the XML support for movies. The XML file is something
like a link to a movie. The movie can be on your harddisc, on cdrom or even a
DVD or (S)VCD. The XML file contains the title, the image and a list of files.
You can use imdb.py in freevos helpers directory to create these XML files.

If you store the id of the DVD/VCD/SVCD/CD in the XML file (use --add-id as
parameter for imdb.py). Freevo will display the title and the image in the
MOVIE MENU menu when you insert the disc. The XML files for this feature are
searched in DIR_MOVIES and in MOVIE_DATA_DIR.

-------------------------------------------------------------------------------

3.4 Music

-------------------------------------------------------------------------------

3.5 Images

3.5.1 General

Navigation

If you view an image you can use UP and DOWN to view the next/prev image. LEFT
and RIGHT rotates the image. You can press RECORD on rotated JPEG images and
the image will be stored with this rotation (lossless transformation). By
pressing DISPLAY you get some information about the picture.

-------------------------------------------------------------------------------

4. Skinning

4.1 The default XML file

Freevo uses python files to draw the skin. The main skin contains a XML file
with attributes like color, font, positions etc.

The file skins/xml/type1/768x576.xml contains the settings for the current skin
for 768x576 pixel resolutions. Currently there is only support for the menu and
mp3 player in the XML file, the image viewer is unsupported right now.

WARNING: the XML file depends on the python skin. Other skins may have
different settings and this is a new feature and maybe some things will change
in the future.

4.2 Changing the style for specific folders

You can have a per folder skin in freevo. The folder can contain a skin.xml
file with the same format as the 768x576.xml file. You can skip all nodes and
attributes you don't want to change.

Example: You have images or movies from your last vacation. For this folder you
want a specific background picture, let's say a dark picture with sunset at the
left side. You can now change the font color to white so that you can read
them, move the menu to the right so that the sunset is visible all the time.
The title should be "Summer 2002" and not MOVIE MENU or IMAGE MENU. When you
move the menu to the right and want to see the sunset all the time, you have no
space left for the small images mentioned above. So you disable them. The blue
selection doesn't fit the background colors, so you change it to light grey.

The skin.xml file for this folder can look like this:
   <?xml version="1.0" ?>
   <freevo>
     <skin>
       <menu>
         <bgbitmap>sunset.png</bgbitmap>
         <title>
           <font color="0xffffff"/>
           <text>Summer 2002</text>
         </title>
         <items x="260">
           <font color="0xffffff">
           <selection length="453" color="0xcccccc"/>
         </items>
         <cover>
           <movie visible="no"/>
           <image visible="no"/>
         </cover>
         <submenu>
           <selection color="0xcccccc"/>
         </submenu>
       </menu>
     </skin>
   </freevo>
      

4.3 CD-ROM support

Don't put a skin.xml file on a cd. The format may change. You can add skin
informations to a xml file for the cd.

Example: you have a DVD. Now you make a xml for this movie with imdb.py and
then add the cd id. The file contains something like
   <?xml version="1.0" ?>
   <freevo>
     <movie>
       <title>...</title>
       <id>2002053022520000</id>
       <cover>bla.jpg</cover>
       <video>
         <dvd/>
         <files>
         </files>
       </video>
       <info>
         ...
       </info>
     </movie>
   </freevo>
      

When you insert the DVD and start freevo you should see the title and the image
in the MOVIE MAIN MENU. When you select the DVD you will see a list of tracks
-- with the standard background.
Now start an editor and add skin informations between </movie> and </freevo>,
e.g.:
     ...
     </movie>
     <skin>
       <menu>
         <bgbitmap>background.jpg</bgbitmap>
         <items>
        <font color="0x000000"/>
        <selection length="300" color="0xc4dbe9"/>
         </items>
         <cover>
        <movie visible="no"/>
         </cover>
       </menu>
     </skin>
   </freevo>
      

background.jpg has to be in the same directory as the xml file. Now go back to
the MOVIE MAIN MENU and than back to the DVD. Now you have a special menu
background for this DVD.

4.4 Python skins

If you don't like the current skin at all, you can write your own skin in
python and you have all the freedom you want in designing the look of freevo.
Please take a look at skin.py to get the needed callbacks your skin needs.

